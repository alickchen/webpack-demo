/*! 这是我的代码! */
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

eval("module.exports = window.$;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3aW5kb3cuJFwiP2Y4ZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gd2luZG93LiQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ3aW5kb3cuJFwiXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Created by beat on 17/2/16.\n */\nvar $ = __webpack_require__(0);\n\n$(function () {\n    var $loadingbg = $(\".loading-bg\");\n    var image1, image2, myBoard2, myBoard1;\n    $(\"#inputImage1\").change(function () {\n        var file = $(this)[0].files[0];\n        var reader = new FileReader();\n        reader.onloadstart = function (e) {\n            $loadingbg.show();\n        };\n\n        reader.onabort = function (e) {\n            $loadingbg.fadeOut();\n        };\n        reader.onerror = function (e) {\n            $loadingbg.fadeOut();\n        };\n        reader.onload = function (e) {\n            $loadingbg.fadeOut();\n            $(\".image1\").attr(\"src\", e.target.result);\n            $(\".image1\")[0].onload = function () {\n                var w = $(\".image1\").width();\n                var h = $(\".image1\").height();\n\n                $(\"#huaban1\").empty().width(w).height(h);\n                myBoard1 = new DrawingBoard.Board('huaban1', {\n                    controlsPosition: \"right\",\n                    webStorage: false,\n                    enlargeYourContainer: true\n                });\n\n                myBoard1.setImg(e.target.result, { 'stretch': true,\n                    callback: function callback() {\n                        myBoard1.saveHistory();\n                        myBoard1.setImg(e.target.result, { 'stretch': true });\n                    }\n                });\n            };\n        };\n        reader.readAsDataURL(file);\n    });\n\n    $(\"#inputImage2\").change(function () {\n        var file = $(this)[0].files[0];\n        var reader = new FileReader();\n        reader.onloadstart = function (e) {\n            $loadingbg.show();\n        };\n\n        reader.onabort = function (e) {\n            $loadingbg.fadeOut();\n        };\n        reader.onerror = function (e) {\n            $loadingbg.fadeOut();\n        };\n        reader.onload = function (e) {\n            $loadingbg.fadeOut();\n            $(\".image2\").attr(\"src\", e.target.result);\n            $(\".image2\")[0].onload = function () {\n                var w = $(\".image2\").width();\n                var h = $(\".image2\").height();\n\n                $(\"#huaban2\").empty().width(w).height(h);\n                myBoard2 = new DrawingBoard.Board('huaban2', {\n                    controlsPosition: \"right\",\n                    webStorage: false,\n                    enlargeYourContainer: true\n                });\n                myBoard2.setImg(e.target.result, { 'stretch': true,\n                    callback: function callback() {\n                        myBoard2.saveHistory();\n                        myBoard2.setImg(e.target.result, { 'stretch': true });\n                    }\n                });\n            };\n        };\n        reader.readAsDataURL(file);\n    });\n\n    $(\".hecheng\").click(function () {\n        if (!myBoard1 || !myBoard2) {\n            alert(\"请选择两张图片\");\n            return;\n        }\n        image1 = myBoard1.getImg();\n        image2 = myBoard2.getImg();\n        var nametime = new Date().getTime();\n        var imgname = nametime + image1.slice(-15, -10).toLowerCase();\n        var formData = new FormData();\n        formData.append(\"imgname\", imgname);\n        formData.append(\"imagedata1\", convertBase64UrlToBlob(image1));\n        formData.append(\"imagedata2\", convertBase64UrlToBlob(image2));\n        $loadingbg.show();\n        $.ajax({\n            url: 'http://106.75.48.34/test_filter_producer.php',\n            type: 'POST',\n            data: formData,\n            // cache: false,\n            processData: false,\n            contentType: false,\n            success: function success(data) {\n                if (data == 'yes') {\n                    $.ajax({\n                        url: \"http://106.75.16.207:8081/serach_pic.php?filename=\" + imgname,\n                        processData: false,\n                        contentType: false,\n                        success: function success(data) {\n                            if (CheckUrl(data)) {\n                                $(\".result-img\").attr(\"src\", data);\n                                $('#myModal').modal('show');\n\n                                $loadingbg.fadeOut();\n                            } else {\n                                console.log(data);\n                                $loadingbg.fadeOut();\n                            }\n                        },\n                        error: function error(responseStr) {\n                            console.log(\"上传图片或风格成功,第二个请求获取图片失败:\" + JSON.stringify(responseStr));\n                            alert(\"当前使用人数较多,请稍后再试。\");\n                            $loadingbg.fadeOut();\n                        }\n                    });\n                } else {\n                    console.log(\"上传图片或风格成功,单返回yes失败:\" + JSON.stringify(data));\n                    alert(\"当前使用人数较多,请稍后再试。\");\n                    $loadingbg.fadeOut();\n                }\n            },\n            error: function error(responseStr) {\n                console.log(\"上传图片和图片风格失败:\" + JSON.stringify(responseStr));\n                alert(\"当前使用人数较多,请稍后再试。\");\n                $loadingbg.fadeOut();\n            }\n        });\n    });\n\n    function adjustimg($img) {\n        var width = $img.width();\n        var height = $img.height();\n        var canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.fillStyle = \"#ffffff\";\n        ctx.drawImage($img[0], 0, 0, width, height);\n        return canvas.toDataURL();\n    }\n\n    function CheckUrl(str) {\n        var RegUrl = new RegExp(/^http:\\/\\/.*jpeg$/);\n        if (!RegUrl.test(str)) {\n            return false;\n        }\n        return true;\n    }\n\n    function convertBase64UrlToBlob(urlData) {\n        var bytes = window.atob(urlData.split(',')[1]); //去掉url的头，并转换为byte\n        //处理异常,将ascii码小于0的转换为大于0\n        var ab = new ArrayBuffer(bytes.length);\n        var ia = new Uint8Array(ab);\n        for (var i = 0; i < bytes.length; i++) {\n            ia[i] = bytes.charCodeAt(i);\n        }\n        return new Blob([ab], { type: 'image/jpeg' });\n    }\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvbWFpbi5qcz82YTRiIl0sIm5hbWVzIjpbIiQiLCJyZXF1aXJlIiwiJGxvYWRpbmdiZyIsImltYWdlMSIsImltYWdlMiIsIm15Qm9hcmQyIiwibXlCb2FyZDEiLCJjaGFuZ2UiLCJmaWxlIiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2Fkc3RhcnQiLCJlIiwic2hvdyIsIm9uYWJvcnQiLCJmYWRlT3V0Iiwib25lcnJvciIsIm9ubG9hZCIsImF0dHIiLCJ0YXJnZXQiLCJyZXN1bHQiLCJ3Iiwid2lkdGgiLCJoIiwiaGVpZ2h0IiwiZW1wdHkiLCJEcmF3aW5nQm9hcmQiLCJCb2FyZCIsImNvbnRyb2xzUG9zaXRpb24iLCJ3ZWJTdG9yYWdlIiwiZW5sYXJnZVlvdXJDb250YWluZXIiLCJzZXRJbWciLCJjYWxsYmFjayIsInNhdmVIaXN0b3J5IiwicmVhZEFzRGF0YVVSTCIsImNsaWNrIiwiYWxlcnQiLCJnZXRJbWciLCJuYW1ldGltZSIsIkRhdGUiLCJnZXRUaW1lIiwiaW1nbmFtZSIsInNsaWNlIiwidG9Mb3dlckNhc2UiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiY29udmVydEJhc2U2NFVybFRvQmxvYiIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwiQ2hlY2tVcmwiLCJtb2RhbCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInJlc3BvbnNlU3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsImFkanVzdGltZyIsIiRpbWciLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwic3RyIiwiUmVnVXJsIiwiUmVnRXhwIiwidGVzdCIsInVybERhdGEiLCJieXRlcyIsIndpbmRvdyIsImF0b2IiLCJzcGxpdCIsImFiIiwi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QkFBVCxDQUFnQzhCLE9BQWhDLEVBQXdDO0FBQ3BDLFlBQUlDLFFBQU1DLE9BQU9DLElBQVAsQ0FBWUgsUUFBUUksS0FBUixDQUFjLEdBQWQsRUFBbUIsQ0FBbkIsQ0FBWixDQUFWLENBRG9DLENBQ2lCO0FBQ3JEO0FBQ0EsWUFBSUMsS0FBSyxJQUFJQyxXQUFKLENBQWdCTCxNQUFNTSxNQUF0QixDQUFUO0FBQ0EsWUFBSUMsS0FBSyxJQUFJQyxVQUFKLENBQWVKLEVBQWYsQ0FBVDtBQUNBLGFBQUssSUFBSUssSUFBSSxDQUFiLEVBQWdCQSxJQUFJVCxNQUFNTSxNQUExQixFQUFrQ0csR0FBbEMsRUFBdUM7QUFDbkNGLGVBQUdFLENBQUgsSUFBUVQsTUFBTVUsVUFBTixDQUFpQkQsQ0FBakIsQ0FBUjtBQUNIO0FBQ0QsZUFBTyxJQUFJRSxJQUFKLENBQVUsQ0FBQ1AsRUFBRCxDQUFWLEVBQWlCLEVBQUNoQyxNQUFPLFlBQVIsRUFBakIsQ0FBUDtBQUNIO0FBQ0osQ0F0S0QiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBiZWF0IG9uIDE3LzIvMTYuXG4gKi9cbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIHZhciAkbG9hZGluZ2JnID0gJChcIi5sb2FkaW5nLWJnXCIpO1xuICAgIHZhciBpbWFnZTEsaW1hZ2UyLG15Qm9hcmQyLG15Qm9hcmQxO1xuICAgICQoXCIjaW5wdXRJbWFnZTFcIikuY2hhbmdlKCBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgZmlsZSA9ICQodGhpcylbMF0uZmlsZXNbMF07XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2Fkc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgJGxvYWRpbmdiZy5zaG93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVhZGVyLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgJGxvYWRpbmdiZy5mYWRlT3V0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICRsb2FkaW5nYmcuZmFkZU91dCgpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICRsb2FkaW5nYmcuZmFkZU91dCgpO1xuICAgICAgICAgICAgJChcIi5pbWFnZTFcIikuYXR0cihcInNyY1wiLGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAkKFwiLmltYWdlMVwiKVswXS5vbmxvYWQ9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHcgPSAkKFwiLmltYWdlMVwiKS53aWR0aCgpO1xuICAgICAgICAgICAgICAgIHZhciBoID0gJChcIi5pbWFnZTFcIikuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAkKFwiI2h1YWJhbjFcIikuZW1wdHkoKS53aWR0aCh3KS5oZWlnaHQoaCk7XG4gICAgICAgICAgICAgICAgbXlCb2FyZDEgPSBuZXcgRHJhd2luZ0JvYXJkLkJvYXJkKCdodWFiYW4xJyx7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzUG9zaXRpb246XCJyaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICB3ZWJTdG9yYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZW5sYXJnZVlvdXJDb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBteUJvYXJkMS5zZXRJbWcoZS50YXJnZXQucmVzdWx0LHsnc3RyZXRjaCcgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlCb2FyZDEuc2F2ZUhpc3RvcnkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Qm9hcmQxLnNldEltZyhlLnRhcmdldC5yZXN1bHQseydzdHJldGNoJyA6IHRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSlcbiAgICB9KTtcblxuICAgICQoXCIjaW5wdXRJbWFnZTJcIikuY2hhbmdlKCBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgZmlsZSA9ICQodGhpcylbMF0uZmlsZXNbMF07XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2Fkc3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgJGxvYWRpbmdiZy5zaG93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVhZGVyLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgJGxvYWRpbmdiZy5mYWRlT3V0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICRsb2FkaW5nYmcuZmFkZU91dCgpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICRsb2FkaW5nYmcuZmFkZU91dCgpO1xuICAgICAgICAgICAgJChcIi5pbWFnZTJcIikuYXR0cihcInNyY1wiLGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAkKFwiLmltYWdlMlwiKVswXS5vbmxvYWQ9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHcgPSAkKFwiLmltYWdlMlwiKS53aWR0aCgpO1xuICAgICAgICAgICAgICAgIHZhciBoID0gJChcIi5pbWFnZTJcIikuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAkKFwiI2h1YWJhbjJcIikuZW1wdHkoKS53aWR0aCh3KS5oZWlnaHQoaCk7XG4gICAgICAgICAgICAgICAgbXlCb2FyZDIgPSBuZXcgRHJhd2luZ0JvYXJkLkJvYXJkKCdodWFiYW4yJyx7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzUG9zaXRpb246XCJyaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICB3ZWJTdG9yYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZW5sYXJnZVlvdXJDb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbXlCb2FyZDIuc2V0SW1nKGUudGFyZ2V0LnJlc3VsdCx7J3N0cmV0Y2gnIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Qm9hcmQyLnNhdmVIaXN0b3J5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteUJvYXJkMi5zZXRJbWcoZS50YXJnZXQucmVzdWx0LHsnc3RyZXRjaCcgOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpXG4gICAgfSk7XG5cbiAgICAkKFwiLmhlY2hlbmdcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZighbXlCb2FyZDF8fCFteUJvYXJkMil7XG4gICAgICAgICAgICBhbGVydChcIuivt+mAieaLqeS4pOW8oOWbvueJh1wiKTtcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cbiAgICAgICAgaW1hZ2UxID0gbXlCb2FyZDEuZ2V0SW1nKCk7XG4gICAgICAgIGltYWdlMiA9IG15Qm9hcmQyLmdldEltZygpO1xuICAgICAgICB2YXIgbmFtZXRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgdmFyIGltZ25hbWUgPSBuYW1ldGltZStpbWFnZTEuc2xpY2UoLTE1LC0xMCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImltZ25hbWVcIiwgaW1nbmFtZSk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImltYWdlZGF0YTFcIixjb252ZXJ0QmFzZTY0VXJsVG9CbG9iKGltYWdlMSkpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJpbWFnZWRhdGEyXCIsY29udmVydEJhc2U2NFVybFRvQmxvYihpbWFnZTIpKTtcbiAgICAgICAgJGxvYWRpbmdiZy5zaG93KCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmwgOiAnaHR0cDovLzEwNi43NS40OC4zNC90ZXN0X2ZpbHRlcl9wcm9kdWNlci5waHAnLFxuICAgICAgICAgICAgdHlwZSA6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGEgOiBmb3JtRGF0YSxcbiAgICAgICAgICAgIC8vIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlIDogZmFsc2UsXG4gICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhPT0neWVzJyl7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovLzEwNi43NS4xNi4yMDc6ODA4MS9zZXJhY2hfcGljLnBocD9maWxlbmFtZT1cIitpbWduYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ2hlY2tVcmwoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5yZXN1bHQtaW1nXCIpLmF0dHIoXCJzcmNcIixkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI215TW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkaW5nYmcuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkaW5nYmcuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjpmdW5jdGlvbihyZXNwb25zZVN0cil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLkuIrkvKDlm77niYfmiJbpo47moLzmiJDlip8s56ys5LqM5Liq6K+35rGC6I635Y+W5Zu+54mH5aSx6LSlOlwiK0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlU3RyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLlvZPliY3kvb/nlKjkurrmlbDovoPlpJos6K+356iN5ZCO5YaN6K+V44CCXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkaW5nYmcuZmFkZU91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5LiK5Lyg5Zu+54mH5oiW6aOO5qC85oiQ5YqfLOWNlei/lOWbnnllc+Wksei0pTpcIitKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi5b2T5YmN5L2/55So5Lq65pWw6L6D5aSaLOivt+eojeWQjuWGjeivleOAglwiKTtcbiAgICAgICAgICAgICAgICAgICAgJGxvYWRpbmdiZy5mYWRlT3V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yIDogZnVuY3Rpb24ocmVzcG9uc2VTdHIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuS4iuS8oOWbvueJh+WSjOWbvueJh+mjjuagvOWksei0pTpcIitKU09OLnN0cmluZ2lmeShyZXNwb25zZVN0cikpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwi5b2T5YmN5L2/55So5Lq65pWw6L6D5aSaLOivt+eojeWQjuWGjeivleOAglwiKTtcbiAgICAgICAgICAgICAgICAkbG9hZGluZ2JnLmZhZGVPdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhZGp1c3RpbWcoJGltZykge1xuICAgICAgICB2YXIgd2lkdGggPSRpbWcud2lkdGgoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9ICRpbWcuaGVpZ2h0KCk7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoICA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgY3R4LmRyYXdJbWFnZSgkaW1nWzBdLCAwICwgMCx3aWR0aCxoZWlnaHQpO1xuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIENoZWNrVXJsKHN0cikge1xuICAgICAgICB2YXIgUmVnVXJsID0gbmV3IFJlZ0V4cCggL15odHRwOlxcL1xcLy4qanBlZyQvKTtcbiAgICAgICAgaWYgKCFSZWdVcmwudGVzdChzdHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29udmVydEJhc2U2NFVybFRvQmxvYih1cmxEYXRhKXtcbiAgICAgICAgdmFyIGJ5dGVzPXdpbmRvdy5hdG9iKHVybERhdGEuc3BsaXQoJywnKVsxXSk7ICAgICAgICAvL+WOu+aOiXVybOeahOWktO+8jOW5tui9rOaNouS4umJ5dGVcbiAgICAgICAgLy/lpITnkIblvILluLgs5bCGYXNjaWnnoIHlsI/kuo4w55qE6L2s5o2i5Li65aSn5LqOMFxuICAgICAgICB2YXIgYWIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpYVtpXSA9IGJ5dGVzLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKCBbYWJdICwge3R5cGUgOiAnaW1hZ2UvanBlZyd9KTtcbiAgICB9XG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvbWFpbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ]);